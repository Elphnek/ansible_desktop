---
- hosts: localhost
  connection: local
  become: true

  tasks:
  - name: save username 
    command: whoami
    become: false
    register: username
    ignore_errors: true
  
  - name: downloading virtualBod deb
    command: wget https://download.virtualbox.org/virtualbox/7.0.10/virtualbox-7.0_7.0.10-158379~Debian~bookworm_amd64.deb
  
  - name: installing virtual-Box .deb
    command: dpkg -i virtualbox-7.0_7.0.10-158379~Debian~bookworm_amd64.deb
  
  - name: Run apt update
    command: apt --fix-broken install

  - name: downloading signutare and regsitring 
    shell: wget -O- https://www.virtualbox.org/download/oracle_vbox_2016.asc | sudo gpg --dearmor --yes --output /usr/share/keyrings/oracle-virtualbox-2016.gpg 

  - name: Run apt update
    command: apt update
  
  - name: install packages
    package: 
      name: 
        - virtualbox-7.0 